{
  "type": "object",
  "definitions": {
    "can": {
      "type": "object",
      "properties": {
        "phy": {
          "title": "Physical (CAN bus low-level)",
          "description": "CAN bus low-level configuration",
          "type": "object",
          "properties": {
            "mode": {
              "title": "Mode",
              "description": "Device CAN bus mode. Configures how the device interacts with the bus. In Normal mode, the device can receive, acknowledge and transmit frames. In Restricted mode, the device can receive and acknowledge, but not transmit frames. In Bus Monitoring mode, the device can receive, but not acknowledge or transmit frames. It is recommended to always use the most restrictive mode possible.",
              "type": "integer",
              "default": 1,
              "anyOf": [
                {
                  "type": "integer",
                  "title": "Normal (receive, acknowledge and transmit)",
                  "enum": [
                    0
                  ]
                },
                {
                  "type": "integer",
                  "title": "Restricted (receive and acknowledge)",
                  "enum": [
                    1
                  ]
                },
                {
                  "type": "integer",
                  "title": "Monitoring (receive only)",
                  "enum": [
                    2
                  ]
                }
              ]
            },
            "retransmission": {
              "title": "Automatic retransmission",
              "description": "Retransmission of frames that have lost arbitration or that have been disturbed by errors during transmission.",
              "type": "integer",
              "default": 0,
              "anyOf": [
                {
                  "type": "integer",
                  "title": "Disable",
                  "enum": [
                    0
                  ]
                },
                {
                  "type": "integer",
                  "title": "Enable",
                  "enum": [
                    1
                  ]
                }
              ]
            },
            "fd_spec": {
              "title": "CAN FD specification",
              "description": "Configures the CAN FD specification used by the device. Shall match the specification used by the CAN bus network.",
              "type": "integer",
              "default": 0,
              "anyOf": [
                {
                  "type": "integer",
                  "title": " ISO CAN FD (11898-1)",
                  "enum": [
                    0
                  ]
                },
                {
                  "type": "integer",
                  "title": "non-ISO CAN FD (Bosch V1.0.)",
                  "enum": [
                    1
                  ]
                }
              ]
            },
            "bit_rate_cfg_mode": {
              "title": "Bit-rate configuration mode",
              "description": "Configures how the CAN bus bit-rate is set. Modes Auto-detect and Bit-rate support all standard bit-rates. Non-standard bit-rate configuration can be set using Bit-timing. It is recommended to set the bit-rate manually if it is known.",
              "type": "integer",
              "default": 0,
              "anyOf": [
                {
                  "title": "Auto-detect",
                  "enum": [
                    0
                  ]
                },
                {
                  "title": "Bit-rate (simple)",
                  "enum": [
                    1
                  ]
                },
                {
                  "title": "Bit-timing (advanced)",
                  "enum": [
                    2
                  ]
                }
              ]
            }
          },
          "dependencies": {
            "bit_rate_cfg_mode": {
              "oneOf": [
                {
                  "properties": {
                    "bit_rate_cfg_mode": {
                      "enum": [
                        0
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "bit_rate_cfg_mode": {
                      "enum": [
                        1
                      ]
                    },
                    "bit_rate_std": {
                      "title": "Bit-rate standard",
                      "type": "integer",
                      "default": 250000,
                      "anyOf": [
                        {
                          "title": "5K",
                          "enum": [
                            5000
                          ]
                        },
                        {
                          "title": "10K",
                          "enum": [
                            10000
                          ]
                        },
                        {
                          "title": "20K",
                          "enum": [
                            20000
                          ]
                        },
                        {
                          "title": "33.333K",
                          "enum": [
                            33333
                          ]
                        },
                        {
                          "title": "47.619K",
                          "enum": [
                            47619
                          ]
                        },
                        {
                          "title": "50K",
                          "enum": [
                            50000
                          ]
                        },
                        {
                          "title": "83.333K",
                          "enum": [
                            83333
                          ]
                        },
                        {
                          "title": "95.238K",
                          "enum": [
                            95238
                          ]
                        },
                        {
                          "title": "100K",
                          "enum": [
                            100000
                          ]
                        },
                        {
                          "title": "125K",
                          "enum": [
                            125000
                          ]
                        },
                        {
                          "title": "250K",
                          "enum": [
                            250000
                          ]
                        },
                        {
                          "title": "500K",
                          "enum": [
                            500000
                          ]
                        },
                        {
                          "title": "800K",
                          "enum": [
                            800000
                          ]
                        },
                        {
                          "title": "1M",
                          "enum": [
                            1000000
                          ]
                        }
                      ]
                    },
                    "bit_rate_fd": {
                      "title": "Bit-rate FD",
                      "type": "integer",
                      "default": 1000000,
                      "anyOf": [
                        {
                          "title": "1M",
                          "enum": [
                            1000000
                          ]
                        },
                        {
                          "title": "2M",
                          "enum": [
                            2000000
                          ]
                        },
                        {
                          "title": "4M",
                          "enum": [
                            4000000
                          ]
                        }
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "bit_rate_cfg_mode": {
                      "enum": [
                        2
                      ]
                    },
                    "brp": {
                      "title": "BRP (Bit Rate Prescaler)",
                      "type": "integer",
                      "default": 2,
                      "minimum": 1
                    },
                    "seg1": {
                      "title": "SEG1 (Time Segment 1 )",
                      "type": "integer",
                      "default": 63,
                      "minimum": 1
                    },
                    "seg2": {
                      "title": "SEG2 (Time Segment 2)",
                      "type": "integer",
                      "default": 16,
                      "minimum": 2
                    },
                    "sjw": {
                      "title": "SJW (Synchronization Jump Width)",
                      "type": "integer",
                      "default": 4,
                      "minimum": 0,
                      "maximum": 4
                    }
                  }
                }
              ]
            }
          },
          "patternProperties": {
            "bit_rate_std": {},
            "bit_rate_fd": {},
            "brp": {},
            "seg1": {},
            "seg2": {},
            "sjw": {}
          },
          "additionalProperties": false,
          "minProperties": 4
        },
        "filter": {
          "title": "Receive Filters",
          "description": "Filters are checked sequentially, execution stops with the first matching filter element. Max 128 11-bit filters and 64 29-bit filters.",
          "type": "array",
          "minItems": 1,
          "maxItems": 192,
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "title": "Name",
                "description": "Optional filter name.",
                "type": "string",
                "pattern": "^[ -~]*$",
                "maxLength": 16,
                "default": "FilterName"
              },
              "state": {
                "title": "State",
                "description": "Disabled filters are ignored.",
                "type": "integer",
                "default": 1,
                "anyOf": [
                  {
                    "type": "integer",
                    "title": "Disable",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "Enable",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "type": {
                "title": "Type",
                "description": "Action on match, accept or reject message.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "title": "Acceptance",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "title": "Rejection",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "id_format": {
                "title": "ID format",
                "description": "Filter ID format. Filters apply to messages with matching ID format.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "title": "Standard (11-bit)",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "title": "Extended (29-bit)",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "method": {
                "title": "Filter method",
                "description": "The filter ID matching mechanism.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "title": "Range",
                    "enum": [
                      0
                    ],
                    "description": "ID ranges"
                  },
                  {
                    "title": "Mask",
                    "enum": [
                      1
                    ],
                    "description": "ID masking"
                  }
                ]
              },
              "f1": {
                "title": "From (range) / ID (mask) (HEX)",
                "description": "If filter method is Range, this field defines the start of range. If filter method is Mask, this field defines the filter ID.",
                "type": "string",
                "pattern": "^[a-fA-F0-9]+$",
                "maxLength": 8,
                "default": "0"
              },
              "f2": {
                "title": "To (range) / mask (mask) (HEX)",
                "description": "If filter method is Range, this field defines the end of range. If filter method is Mask, this field defines the filter mask.",
                "type": "string",
                "pattern": "^[a-fA-F0-9]+$",
                "maxLength": 8,
                "default": "7FF"
              }
            },
            "dependencies": {
              "type": {
                "oneOf": [
                  {
                    "properties": {
                      "type": {
                        "enum": [
                          0
                        ]
                      },
                      "prescaler": {
                        "title": "Prescaler (1 = disable)",
                        "description": "Acceptance messages prescaling. Can be used to scale the number of messages accepted by the filter. In total 100 unique message IDs can be prescaled (additional unique IDs are assigned prescaler 1)",
                        "type": "integer",
                        "default": 1,
                        "minimum": 1,
                        "maximum": 256
                      }
                    }
                  },
                  {
                    "properties": {
                      "type": {
                        "enum": [
                          1
                        ]
                      }
                    }
                  }
                ]
              }
            },
            "patternProperties": {
              "prescaler": {}
            },
            "additionalProperties": false,
            "minProperties": 7
          }
        },
        "transmit": {
          "title": "Transmit Messages",
          "description": "List of CAN bus messages transmitted by the device. Requires a CAN-bus physical mode supporting transmissions.",
          "type": "array",
          "maxItems": 128,
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "title": "Name",
                "description": "Optional transmit message name.",
                "type": "string",
                "pattern": "^[ -~]*$",
                "maxLength": 16
              },
              "state": {
                "title": "State",
                "description": "Disabled transmit messages are ignored.",
                "type": "integer",
                "default": 1,
                "anyOf": [
                  {
                    "type": "integer",
                    "title": "Disable",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "Enable",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "id_format": {
                "title": "ID Format",
                "description": "ID format of the transmit message.",
                "type": "integer",
                "default": 0,
                "oneOf": [
                  {
                    "type": "integer",
                    "title": "Standard (11-bit)",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "Extended (29-bit)",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "frame_format": {
                "title": "Frame format",
                "description": "Frame format of the transmit message.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "type": "integer",
                    "title": "Standard",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "FD",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "brs": {
                "title": "Bit-Rate Switch",
                "description": "Determines if an FD message is transmitted using a switched bit-rate.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "type": "integer",
                    "title": "Disable",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "Enable",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "log": {
                "title": "Include in log",
                "description": "Determines if the transmitted message is included in the log file.",
                "type": "integer",
                "default": 0,
                "anyOf": [
                  {
                    "type": "integer",
                    "title": "Disable",
                    "enum": [
                      0
                    ]
                  },
                  {
                    "type": "integer",
                    "title": "Enable",
                    "enum": [
                      1
                    ]
                  }
                ]
              },
              "period": {
                "title": "Period (10 ms steps)",
                "description": "Time period of the message transmission. 0: single shot, >0: periodic. Unit is ms.",
                "type": "integer",
                "minimum": 0,
                "maximum": 4294967290,
                "multipleOf": 10
              },
              "delay": {
                "title": "Delay (10 ms steps)",
                "description": "Offset message within the period or delay a single shot message. If multiple messages are transmitted by the device, it is recommended to offset each separately to reduce peak load on bus. If period > 0, delay < period. If single-shot, delay can be up to max value. Unit is ms.",
                "type": "integer",
                "minimum": 0,
                "maximum": 4294967290,
                "multipleOf": 10
              },
              "id": {
                "title": "Message ID (hex)",
                "description": "ID of message to transmit in hex. Example: 1FF.",
                "type": "string"
              },
              "data": {
                "title": "Messages Data (hex)",
                "description": "Data bytes of message to transmit. Example: 01020304 or 0102030405060708.",
                "type": "string",
                "pattern": "^[a-fA-F0-9]+$",
                "maxLength": 128
              }
            },
            "dependencies": {
              "id_format": {
                "oneOf": [
                  {
                    "properties": {
                      "id_format": {
                        "enum": [
                          0
                        ]
                      },
                      "id": {
                        "description": "ID of message to transmit in hex. Example: 1FF.",
                        "pattern": "^([0-7][a-fA-F0-9]{2}|[a-fA-F0-9]{1,2})$",
                        "maxLength": 3
                      }
                    }
                  },
                  {
                    "properties": {
                      "id_format": {
                        "enum": [
                          1
                        ]
                      },
                      "id": {
                        "description": "ID of message to transmit in hex. Example: 1FFFFFFF.",
                        "pattern": "^([0-1][a-fA-F0-9]{7}|[a-fA-F0-9]{1,7})$",
                        "maxLength": 8
                      }
                    }
                  }
                ]
              }
            },
            "additionalProperties": false,
            "minProperties": 9,
            "patternProperties": {
              "id": {}
            }
          }
        }
      },
      "additionalProperties": false,
      "minProperties": 3
    }
  },
  "properties": {
    "general": {
      "title": "General",
      "type": "object",
      "properties": {
        "device": {
          "title": "Device",
          "type": "object",
          "properties": {
            "meta": {
              "title": "Meta data",
              "description": "Optional meta data string. Displayed in device file and log file headers. Example: Site1; Truck4; ConfigRev12",
              "type": "string",
              "minLength": 0,
              "maxLength": 30,
              "pattern": "^[a-zA-Z0-9; ]*$"
            }
          },
          "additionalProperties": false
        },
        "security": {
          "title": "Security",
          "type": "object",
          "properties": {
            "kpub": {
              "title": "Server public key",
              "description": "Server / user ECC public key in base64 format. Shall match the encryption used for all protected fields.",
              "type": "string",
              "minLength": 0,
              "maxLength": 100,
              "pattern": "^[a-zA-Z0-9+/=]*$"
            }
          },
          "additionalProperties": false
        },
        "debug": {
          "title": "Debug",
          "description": "Debug functionality for use during installation and troubleshooting.",
          "type": "object",
          "properties": {
            "syslog": {
              "title": "System log",
              "description": "System events logged to the SD-card. The log levels are listed in order of increasing amount of information logged. Should only be enabled if needed during installation or troubleshooting.",
              "type": "integer",
              "default": 0,
              "anyOf": [
                {
                  "type": "integer",
                  "title": "Disable (0)",
                  "enum": [
                    0
                  ]
                },
                {
                  "type": "integer",
                  "title": "Error (1)",
                  "enum": [
                    1
                  ]
                },
                {
                  "type": "integer",
                  "title": "Warning (2)",
                  "enum": [
                    2
                  ]
                },
                {
                  "type": "integer",
                  "title": "Info (3)",
                  "enum": [
                    3
                  ]
                }
              ]
            }
          },
          "additionalProperties": false,
          "minProperties": 1
        }
      },
      "additionalProperties": false,
      "minProperties": 3
    },
    "log": {
      "title": "Logging",
      "type": "object",
      "properties": {
        "split_size": {
          "title": "File split size (1 to 512 MB)",
          "description": "Log file split size in MB. When the file split size is reached a new file is created and the logging continues. Closed log files can be pushed to a server if WiFi is available. Small split sizes may reduce performance.",
          "type": "integer",
          "default": 50,
          "minimum": 1,
          "maximum": 512
        },
        "split_time_period": {
          "title": "File split time period (0 to 86400 seconds, 0 = disable)",
          "description": "Log file split time period in seconds relative to midnight (00:00:00). When a split time is reached a new file is created and the logging continues. Closed log files can be pushed to a server if WiFi is available. Small split time periods may reduce performance.",
          "type": "integer",
          "default": 0,
          "minimum": 0,
          "maximum": 86400,
          "multipleOf": 10
        },
        "split_time_offset": {
          "title": "File split time offset (0 to 86400 seconds)",
          "description": "Log file split time offset in seconds. This value offsets the split_time_period relative to midnight (00:00:00). The set value shall be less than the split_time_period value.",
          "type": "integer",
          "default": 0,
          "minimum": 0,
          "maximum": 86400,
          "multipleOf": 10
        },
        "cyclic": {
          "title": "Cyclic logging",
          "description": "With cycling logging mode enabled the oldest log file is deleted when the memory card becomes full, allowing the logging to continue.",
          "type": "integer",
          "default": 1,
          "anyOf": [
            {
              "type": "integer",
              "title": "Disable",
              "enum": [
                0
              ]
            },
            {
              "type": "integer",
              "title": "Enable",
              "enum": [
                1
              ]
            }
          ]
        }
      },
      "additionalProperties": false,
      "minProperties": 4
    },
    "rtc": {
      "title": "Real-Time Clock (RTC)",
      "type": "object",
      "properties": {
        "sync": {
          "title": "Time synchronization method",
          "description": "Internal real-time-clock synchronization method. The real-time-clock is maintained when the device is off.",
          "type": "integer",
          "default": 2,
          "anyOf": [
            {
              "title": "Retain current time",
              "description": "The current internal time is not changed.",
              "type": "integer",
              "enum": [
                0
              ]
            },
            {
              "title": "Manual update",
              "description": "The internal time is updated with the manually set UTC time when the device powers on. The manual time is set using the manual_date_time field",
              "type": "integer",
              "enum": [
                1
              ]
            },
            {
              "title": "Automatic update (requires WiFi)",
              "description": "The internal time is automatically updated to UTC when WiFi and internet access become available",
              "type": "integer",
              "enum": [
                2
              ]
            }
          ]
        },
        "timezone": {
          "title": "Time zone (UTCâˆ’12 to UTC+14)",
          "description": "Adjustment in full hours to the UTC time.",
          "type": "integer",
          "default": 0,
          "minimum": -12,
          "maximum": 14
        },
        "adjustment": {
          "title": "Adjustment (-129600 to 129600 seconds)",
          "description": "Adjustment in seconds to the UTC time. Can be used for fine tuning the internal time. ",
          "type": "integer",
          "default": 0,
          "minimum": -129600,
          "maximum": 129600
        }
      },
      "dependencies": {
        "sync": {
          "oneOf": [
            {
              "properties": {
                "sync": {
                  "enum": [
                    0
                  ]
                }
              }
            },
            {
              "properties": {
                "sync": {
                  "enum": [
                    1
                  ]
                },
                "manual_date_time": {
                  "title": "Time (UTC)",
                  "description": "Manually set UTC date and time value.",
                  "type": "string",
                  "format": "date-time"
                }
              }
            },
            {
              "properties": {
                "sync": {
                  "enum": [
                    2
                  ]
                },
                "ntp_server": {
                  "title": "Time server",
                  "description": "NTP server name used for time synchronization. If the first character is an asterisk (*) then the server name is treated as a server pool. Examples:  *.pool.ntp.org, *.us.pool.ntp.org, time.nist.gov",
                  "type": "string",
                  "default": "*.pool.ntp.org",
                  "maxLength": 32,
                  "pattern": "^\\*?[a-z0-9\\.-]*$"
                },
                "ntp_fallback": {
                  "title": "Time server fallback",
                  "description": "Use NTP provided by the DHCP server as fallback.",
                  "type": "integer",
                  "default": 0,
                  "anyOf": [
                    {
                      "title": "Disable",
                      "type": "integer",
                      "enum": [
                        0
                      ]
                    },
                    {
                      "title": "Enable",
                      "type": "integer",
                      "enum": [
                        1
                      ]
                    }
                  ]
                },
                "tolerance": {
                  "title": "Time synchronization tolerance",
                  "description": "The internal time is synchronized only if the difference to the NTP server time exceeds the tolerance. The unit is seconds.",
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 3600,
                  "default": 30
                }
              }
            }
          ]
        }
      },
      "additionalProperties": false,
      "patternProperties": {
        "manual_date_time": {},
        "ntp_server": {},
        "ntp_fallback": {},
        "tolerance": {}
      },
      "minProperties": 3
    },
    "connect": {
      "title": "Connectivity",
      "type": "object",
      "properties": {
        "wifi": {
          "title": "WiFi",
          "type": "object",
          "properties": {
            "mode": {
              "title": "Mode",
              "description": "The WiFi mode. ",
              "type": "integer",
              "default": 0,
              "readOnly": true,
              "anyOf": [
                {
                  "type": "integer",
                  "title": "Station mode",
                  "enum": [
                    0
                  ]
                }
              ]
            },
            "keyformat": {
              "title": "Key format",
              "description": "The format of the key used for all entries in the access point list. Can be used to hide the WiFi passwords stored on the device.",
              "type": "integer",
              "default": 0,
              "anyOf": [
                {
                  "type": "integer",
                  "title": "Plain",
                  "enum": [
                    0
                  ]
                },
                {
                  "type": "integer",
                  "title": "Encrypted",
                  "enum": [
                    1
                  ]
                }
              ]
            },
            "accesspoint": {
              "title": "Access points",
              "description": "List of access points. Connects to the first available AP in list.",
              "type": "array",
              "maxItems": 10,
              "items": {
                "type": "object",
                "properties": {
                  "ssid": {
                    "title": "SSID",
                    "description": "Access point SSID (name of access point)",
                    "type": "string",
                    "minLength": 0,
                    "maxLength": 32
                  },
                  "pwd": {
                    "title": "Password",
                    "description": "Access point password",
                    "type": "string",
                    "default": "",
                    "minLength": 0,
                    "maxLength": 64
                  },
                  "minrssi": {
                    "title": "Minimum RSSI (received signal strength indicator), 0-100%",
                    "description": "Sets a minimum required access point signal strength. The device will not connect to the access point if the measured signal strength is below the value of this field.",
                    "type": "integer",
                    "default": 0,
                    "minimum": 0,
                    "maximum": 100
                  }
                },
                "additionalProperties": false,
                "minProperties": 3
              }
            }
          },
          "additionalProperties": false,
          "minProperties": 3
        },
        "s3": {
          "title": "S3 Server Settings",
          "type": "object",
          "properties": {
            "sync": {
              "title": "Synchronization",
              "description": "This section configures how and when the device communicates with the S3 server.",
              "type": "object",
              "properties": {
                "ota": {
                  "title": "Firmware and config over-the-air",
                  "description": "Configures how often the device looks for firmware- and config-over-the-air updates. Small values may reduce performance. Time period may sometimes become longer if device is busy. Set to 0 to disable.",
                  "type": "integer",
                  "default": 600,
                  "minimum": 0,
                  "maximum": 86400,
                  "multipleOf": 5
                },
                "heartbeat": {
                  "title": "Heartbeat",
                  "description": "Configures how often the device transmits the heartbeat signal. Small values may reduce performance. Time period may sometimes become longer if device is busy. Set to 0 to disable.",
                  "type": "integer",
                  "default": 300,
                  "minimum": 0,
                  "maximum": 86400,
                  "multipleOf": 5
                },
                "logfiles": {
                  "title": "Log files",
                  "description": "Configures if the device pushes closed log files to the server. The log files are deleted from the device when successfully uploaded.",
                  "type": "integer",
                  "default": 1,
                  "anyOf": [
                    {
                      "type": "integer",
                      "title": "Disable",
                      "enum": [
                        0
                      ]
                    },
                    {
                      "type": "integer",
                      "title": "Enable",
                      "enum": [
                        1
                      ]
                    }
                  ]
                }
              },
              "additionalProperties": false,
              "minProperties": 3
            },
            "server": {
              "title": "Server",
              "description": "This section contains the server connection parameters.",
              "type": "object",
              "properties": {
                "endpoint": {
                  "title": "Endpoint",
                  "description": "S3 server endpoint. The device uses SSL/TLS for https endpoints and defaults to http if not defined. Examples: http://192.168.0.1, https://s3.mydomain.com, https://s3.amazonaws.com.",
                  "type": "string",
                  "pattern": "^https*://[a-zA-Z0-9_/\\.-]+$",
                  "maxLength": 128
                },
                "port": {
                  "title": "Port",
                  "description": "S3 server port. Examples: 80 (http), 443 (https), 9000 (custom).",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 65535
                },
                "bucket": {
                  "title": "Bucket name",
                  "description": "S3 server bucket name. Examples: logbucket, fleetbucket, testbucket.",
                  "type": "string",
                  "pattern": "^[ -~]*$",
                  "maxLength": 20
                },
                "region": {
                  "title": "Region",
                  "description": "S3 server region. Example: us-east-1.",
                  "type": "string",
                  "enum": [
                    "ap-east-1",
                    "ap-northeast-1",
                    "ap-northeast-2",
                    "ap-northeast-3",
                    "ap-south-1",
                    "ap-southeast-1",
                    "ap-southeast-2",
                    "ca-central-1",
                    "cn-north-1",
                    "cn-northwest-1",
                    "eu-central-1",
                    "eu-north-1",
                    "eu-west-1",
                    "eu-west-2",
                    "eu-west-3",
                    "sa-east-1",
                    "us-east-1",
                    "us-east-2",
                    "us-west-1",
                    "us-west-2"
                  ]
                },
                "accesskey": {
                  "title": "Access key ID (AccessKey)",
                  "description": "S3 server access key ID. Example: PRDDKN8R6PAAOGTEI53E",
                  "type": "string",
                  "pattern": "^[a-zA-Z0-9_-]+$",
                  "minLength": 3,
                  "maxLength": 128
                },
                "keyformat": {
                  "title": "Secret access key (SecretKey) format",
                  "description": "The format of the secret key. Can be used to hide the secret key stored on the device.",
                  "type": "integer",
                  "anyOf": [
                    {
                      "type": "integer",
                      "title": "Plain",
                      "enum": [
                        0
                      ]
                    },
                    {
                      "type": "integer",
                      "title": "Encrypted",
                      "enum": [
                        1
                      ]
                    }
                  ]
                },
                "secretkey": {
                  "title": "Secret access key (SecretKey)",
                  "type": "string",
                  "minLength": 1
                }
              },
              "dependencies": {
                "keyformat": {
                  "oneOf": [
                    {
                      "properties": {
                        "keyformat": {
                          "enum": [
                            0
                          ]
                        },
                        "secretkey": {
                          "description": "S3 server secret access key in plain form (max 128). Example: IAkwE9vvEh9ke4RH",
                          "maxLength": 128
                        }
                      }
                    },
                    {
                      "properties": {
                        "keyformat": {
                          "enum": [
                            1
                          ]
                        },
                        "secretkey": {
                          "description": "S3 server secret access key in encrypted form (max 150). Example: AKGaqGJWxEhTfJX6oeR/OIdu5Swm9HQY",
                          "maxLength": 150
                        }
                      }
                    }
                  ]
                }
              },
              "additionalProperties": false,
              "minProperties": 7
            }
          },
          "minProperties": 2,
          "additionalProperties": false
        }
      },
      "additionalProperties": false,
      "minProperties": 2
    },
    "secondaryport": {
      "title": "Secondary Port",
      "type": "object",
      "properties": {
        "power": {
          "title": "Secondary port power",
          "description": "Optional 5V power out on the Channel 2 (CH2) connector.",
          "type": "integer",
          "default": 0,
          "anyOf": [
            {
              "type": "integer",
              "title": "Disable",
              "enum": [
                0
              ]
            },
            {
              "type": "integer",
              "title": "Enable",
              "enum": [
                1
              ]
            }
          ]
        }
      },
      "additionalProperties": false,
      "minProperties": 1
    },
    "can_1": {
      "title": "CAN Channel 1",
      "$ref": "#/definitions/can"
    },
    "can_2": {
      "title": "CAN Channel 2",
      "$ref": "#/definitions/can"
    }
  },
  "additionalProperties": false,
  "minProperties": 7
}